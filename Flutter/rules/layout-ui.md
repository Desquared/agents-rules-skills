# Layout & UI Components

## Building Flexible Layouts

### For Rows and Columns

* **`Expanded`:** Use to make a child widget fill the remaining available space along the main axis.
* **`Flexible`:** Use when you want a widget to shrink to fit, but not necessarily grow. Don't combine `Flexible` and `Expanded` in the same `Row` or `Column`.
* **`Wrap`:** Use when you have a series of widgets that would overflow a `Row` or `Column`, and you want them to move to the next line.

### For General Content

* **`SingleChildScrollView`:** Use when your content is intrinsically larger than the viewport, but is a fixed size.
* **`ListView` / `GridView`:** For long lists or grids of content, always use a builder constructor (`.builder`).
* **`FittedBox`:** Use to scale or fit a single child widget within its parent.
* **`LayoutBuilder`:** Use for complex, responsive layouts to make decisions based on the available space.

### Layering Widgets

* **`Stack`:** Layer widgets on top of each other.
* **`Positioned`:** Use to precisely place a child within a `Stack` by anchoring it to the edges.
* **`Align`:** Use to position a child within a `Stack` using alignments like `Alignment.center`.

### Advanced Layout with Overlays

* **`OverlayPortal`:** Use this widget to show UI elements (like custom dropdowns or tooltips) "on top" of everything else.

```dart
class MyDropdown extends StatefulWidget {
  const MyDropdown({super.key});

  @override
  State<MyDropdown> createState() => _MyDropdownState();
}

class _MyDropdownState extends State<MyDropdown> {
  final _controller = OverlayPortalController();

  @override
  Widget build(BuildContext context) {
    return OverlayPortal(
      controller: _controller,
      overlayChildBuilder: (BuildContext context) {
        return const Positioned(
          top: 50,
          left: 10,
          child: Card(
            child: Padding(
              padding: EdgeInsets.all(8.0),
              child: Text('I am an overlay!'),
            ),
          ),
        );
      },
      child: ElevatedButton(
        onPressed: _controller.toggle,
        child: const Text('Toggle Overlay'),
      ),
    );
  }
}
```

## UI Theming and Styling

* **Responsiveness:** Use `LayoutBuilder` or `MediaQuery` to create responsive UIs.
* **Text:** Use `Theme.of(context).textTheme` for text styles.
* **Text Fields:** Configure `textCapitalization`, `keyboardType` appropriately.

## Assets and Images

* **Asset Declaration:** Declare all asset paths in your `pubspec.yaml` file.

```yaml
flutter:
  uses-material-design: true
  assets:
    - assets/images/
```

* **Local Images:** Use `Image.asset` for local images from your asset bundle.
* **Network Images:** Use `Image.network` with `loadingBuilder` and `errorBuilder`.
* **Cached Images:** For cached images, use a package like `cached_network_image`.
* **Custom Icons:** Use `ImageIcon` to display an icon from an `ImageProvider`.

```dart
Image.network(
  'https://example.com/image.png',
  loadingBuilder: (context, child, progress) {
    if (progress == null) return child;
    return const Center(child: CircularProgressIndicator());
  },
  errorBuilder: (context, error, stackTrace) {
    return const Icon(Icons.error);
  },
);
```
